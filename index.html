<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SocialSox - Multi-Platform Poster</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'media',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            500: '#667eea',
                            600: '#5a67d8',
                            700: '#4c51bf',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .title-bar {
            -webkit-app-region: drag;
        }
        .window-controls {
            -webkit-app-region: no-drag;
        }
        .bg-gradient-purple {
            background: linear-gradient(135deg, #4c51bf 0%, #5a4d8f 100%);
        }
        .bg-gradient-dark {
            background: linear-gradient(135deg, #0f0f1e 0%, #1a1a2e 100%);
        }
        @media (prefers-color-scheme: dark) {
            body {
                background: linear-gradient(135deg, #0f0f1e 0%, #1a1a2e 100%);
            }
        }
    </style>
</head>
<body class="bg-gradient-purple dark:bg-gradient-dark min-h-screen flex items-center justify-center pt-16 px-5 pb-5">
    <!-- Title Bar -->
    <div class="title-bar fixed top-0 left-0 right-0 h-10 bg-white dark:bg-gray-800 flex items-center justify-between px-5 z-50">
        <h1 class="text-base text-gray-800 dark:text-gray-200 m-0">üß¶ SocialSox</h1>
        <div class="window-controls flex gap-2.5">
            <button class="w-3 h-3 rounded-full bg-yellow-400 hover:opacity-70 transition-opacity" onclick="window.electron.minimizeWindow()"></button>
            <button class="w-3 h-3 rounded-full bg-green-500 hover:opacity-70 transition-opacity" onclick="window.electron.maximizeWindow()"></button>
            <button class="w-3 h-3 rounded-full bg-red-500 hover:opacity-70 transition-opacity" onclick="window.electron.closeWindow()"></button>
        </div>
    </div>

    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full p-10">
        <p class="text-gray-600 dark:text-gray-400 mb-8 text-sm">Post to multiple platforms at once</p>
        
        <!-- Platform Toggles -->
        <div class="flex gap-2.5 mb-5">
            <button class="platform-toggle flex-1 px-3 py-3 border-2 border-primary-500 rounded-lg bg-primary-500 text-white cursor-pointer transition-all duration-300 text-sm font-semibold hover:-translate-y-0.5 active" data-platform="mastodon">
                <img src="assets/masto.svg" alt="Mastodon" class="w-5 h-5 mr-2 inline-block align-middle brightness-0 invert"> Mastodon
            </button>
            <button class="platform-toggle flex-1 px-3 py-3 border-2 border-primary-500 rounded-lg bg-primary-500 text-white cursor-pointer transition-all duration-300 text-sm font-semibold hover:-translate-y-0.5 active" data-platform="twitter">
                <img src="assets/twit.svg" alt="Twitter" class="w-5 h-5 mr-2 inline-block align-middle brightness-0 invert"> Twitter
            </button>
            <button class="platform-toggle flex-1 px-3 py-3 border-2 border-primary-500 rounded-lg bg-primary-500 text-white cursor-pointer transition-all duration-300 text-sm font-semibold hover:-translate-y-0.5 active" data-platform="bluesky">
                <img src="assets/bsky.svg" alt="Bluesky" class="w-5 h-5 mr-2 inline-block align-middle brightness-0 invert"> Bluesky
            </button>
        </div>
        
        <!-- Message Input -->
        <textarea id="message" placeholder="What's on your mind?" 
            class="w-full min-h-[150px] p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg text-base resize-y mb-4 transition-colors bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:border-primary-500"></textarea>
        <div class="text-right text-gray-500 dark:text-gray-400 text-xs mb-5" id="charCount">0 characters</div>
        
        <!-- Image Upload -->
        <div class="mb-5" id="imageUpload">
            <div id="dropZone" class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-10 text-center cursor-pointer transition-all bg-gray-50 dark:bg-gray-700 hover:border-primary-500 hover:bg-gray-100 dark:hover:bg-gray-600">
                <div class="text-gray-600 dark:text-gray-400 text-sm">
                    üì∏ Drag & drop an image here or click to select
                    <input type="file" id="fileInput" accept="image/*" class="hidden">
                </div>
            </div>
            <div id="imagePreview" class="relative border-2 border-gray-300 dark:border-gray-600 rounded-lg p-2.5 bg-gray-50 dark:bg-gray-700 hidden">
                <img id="previewImg" src="" alt="Preview" class="max-w-full max-h-[300px] block mx-auto rounded">
                <button id="removeImage" onclick="removeImage()" class="absolute top-4 right-4 w-8 h-8 rounded-full bg-red-500 text-white border-0 cursor-pointer text-lg leading-none hover:bg-red-600 transition-colors">‚úï</button>
            </div>
        </div>
        
        <!-- Credentials Collapsible -->
        <div class="mb-5">
            <div onclick="toggleCollapsible()" class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg cursor-pointer flex justify-between items-center select-none hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                <h3 class="text-sm text-gray-800 dark:text-gray-200">‚öôÔ∏è API Credentials (stored locally)</h3>
                <span id="arrow" class="transition-transform duration-300">‚ñº</span>
            </div>
            <div id="credentials" class="max-h-0 overflow-hidden transition-[max-height] duration-300">
                <div class="pt-4">
                    <!-- Mastodon -->
                    <div class="mb-4">
                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-medium">Mastodon Instance URL:</label>
                        <input type="text" id="mastodon-instance" placeholder="https://mastodon.social" class="w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:border-primary-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-medium">Mastodon Access Token:</label>
                        <input type="password" id="mastodon-token" placeholder="Your access token" class="w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:border-primary-500">
                    </div>
                    
                    <!-- Twitter -->
                    <div class="mb-4 mt-5">
                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-medium">Twitter API Key:</label>
                        <input type="password" id="twitter-key" placeholder="Your API key" class="w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:border-primary-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-medium">Twitter API Secret:</label>
                        <input type="password" id="twitter-secret" placeholder="Your API secret" class="w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:border-primary-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-medium">Twitter Access Token:</label>
                        <input type="password" id="twitter-token" placeholder="Your access token" class="w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:border-primary-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-medium">Twitter Access Token Secret:</label>
                        <input type="password" id="twitter-token-secret" placeholder="Your token secret" class="w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:border-primary-500">
                    </div>
                    
                    <!-- Bluesky -->
                    <div class="mb-4 mt-5">
                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-medium">Bluesky Handle:</label>
                        <input type="text" id="bluesky-handle" placeholder="username.bsky.social" class="w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:border-primary-500">
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1.5 font-medium">Bluesky App Password:</label>
                        <input type="password" id="bluesky-password" placeholder="Your app password" class="w-full p-2.5 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:border-primary-500">
                    </div>
                    
                    <!-- Import/Export Buttons -->
                    <div class="flex gap-2.5 mt-5">
                        <button type="button" onclick="exportCredentials()" class="flex-1 py-2.5 px-4 bg-primary-600 hover:bg-primary-700 text-white border-0 rounded-md cursor-pointer text-sm font-medium transition-colors">
                            üì§ Export Credentials
                        </button>
                        <button type="button" onclick="importCredentials()" class="flex-1 py-2.5 px-4 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer text-sm font-medium transition-colors">
                            üì• Import Credentials
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Post Button -->
        <button id="postBtn" onclick="postToAll()" class="w-full py-3.5 px-4 bg-primary-600 hover:bg-primary-700 text-white border-0 rounded-lg text-base font-medium cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed transition-colors">
            Post to Selected Platforms
        </button>
        
        <!-- Status Message -->
        <div id="status" class="mt-5 p-4 rounded-lg text-sm whitespace-pre-line hidden"></div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>
